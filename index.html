<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no">
<title>レジ2：お支払い</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
html, body { height: 100%; margin: 0; }
.no-scrollbar::-webkit-scrollbar { display: none; }
.no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
</style>
</head>
<body class="bg-gray-100 flex items-center justify-center">

<div class="w-full max-w-md bg-white shadow-2xl rounded-lg flex flex-col p-6"
     style="height:100vh; height:100dvh;">

  <!-- ヘッダー -->
  <header class="bg-gray-800 text-white p-4 rounded-lg mb-4">
    <h1 class="text-xl font-bold">レジ２：お支払い</h1>
  </header>

  <!-- 注文内容サンプル -->
  <div class="flex-grow overflow-y-auto no-scrollbar mb-4">
    <h2 class="text-lg font-bold mb-2">ご注文内容</h2>
    <div class="space-y-1 text-sm">
      <div class="flex justify-between"><span>たこ焼き(ソース) ×2点</span><span>¥500</span></div>
      <div class="flex justify-between"><span>ドリンク(コーラ) ×1点</span><span>¥200</span></div>
    </div>
    <div class="border-t mt-2 pt-2">
      <div class="flex justify-between text-base"><span>小計</span><span>¥700</span></div>
      <div class="flex justify-between text-base text-red-500"><span>割引 (無料券)</span><span>-¥200</span></div>
      <div class="flex justify-between text-xl font-bold mt-1"><span>合計</span><span id="total-amount">¥500</span></div>
    </div>
  </div>

  <!-- 支払い入力 -->
  <div class="mb-4">
    <label class="block text-sm font-bold mb-1">お預かり金額</label>
    <input id="input-amount" type="text" readonly
           class="w-full border rounded px-3 py-2 text-right text-xl font-mono" value="">
    <div class="flex justify-between text-lg mt-2">
      <span>お釣り</span>
      <span id="change-amount">¥0</span>
    </div>
  </div>

  <!-- テンキー -->
  <div class="grid grid-cols-3 gap-2 mb-4">
    <button class="key bg-gray-200 py-4 text-xl rounded">7</button>
    <button class="key bg-gray-200 py-4 text-xl rounded">8</button>
    <button class="key bg-gray-200 py-4 text-xl rounded">9</button>
    <button class="key bg-gray-200 py-4 text-xl rounded">4</button>
    <button class="key bg-gray-200 py-4 text-xl rounded">5</button>
    <button class="key bg-gray-200 py-4 text-xl rounded">6</button>
    <button class="key bg-gray-200 py-4 text-xl rounded">1</button>
    <button class="key bg-gray-200 py-4 text-xl rounded">2</button>
    <button class="key bg-gray-200 py-4 text-xl rounded">3</button>
    <button class="key bg-gray-200 py-4 text-xl rounded">0</button>
    <button id="backspace" class="bg-yellow-400 py-4 text-xl rounded">×</button>
    <button id="clear" class="bg-red-500 text-white py-4 text-xl rounded">C</button>
  </div>

  <!-- ボタン -->
  <div class="flex gap-2">
    <button id="confirm-btn" class="flex-1 bg-green-500 hover:bg-green-600 text-white font-bold py-3 rounded-lg">
      会計確定
    </button>
    <button id="cancel-btn" class="flex-1 bg-gray-400 hover:bg-gray-500 text-white font-bold py-3 rounded-lg">
      キャンセル
    </button>
  </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const total = 500; // サンプル合計金額
  const input = document.getElementById('input-amount');
  const change = document.getElementById('change-amount');

  // 数字入力
  document.querySelectorAll('.key').forEach(btn => {
    btn.addEventListener('click', () => {
      input.value += btn.textContent;
      updateChange();
    });
  });

  // バックスペース（×）
  document.getElementById('backspace').addEventListener('click', () => {
    input.value = input.value.slice(0, -1);
    updateChange();
  });

  // クリア（C）
  document.getElementById('clear').addEventListener('click', () => {
    input.value = "";
    updateChange();
  });

  // お釣り計算
  function updateChange(){
    const paid = parseInt(input.value || "0", 10);
    const diff = paid - total;
    change.textContent = diff >= 0 ? `¥${diff.toLocaleString()}` : "¥0";
  }

  // 確定
  document.getElementById('confirm-btn').addEventListener('click', () => {
    alert("会計が確定しました！");
    input.value = "";
    updateChange();
  });

  // キャンセル
  document.getElementById('cancel-btn').addEventListener('click', () => {
    alert("キャンセルしました。");
    input.value = "";
    updateChange();
  });
});
</script>
</body>
</html>
